<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Cadastro</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.0/jquery.mask.js"></script>

    </head>
    <style>
      *{
        padding: 0px;
        margin: 0px;
      };
      .ali{
        text-align: center;
      }
      .caixa{
        margin-top: 150px;
        background-color: #fff;
        width: 50%;
        padding: 10px;
        box-shadow: 1px 1px 1px #000;
        margin-left: auto;
        margin-right: auto;
        border-radius: 10px;
        
      }
      body{
        background-color:white;
        background-image:url("images/ead.jpg");
        background-size: 100%;
        background-repeat: no-repeat;  
      }

    </style>

    



    <body>
    <div class="caixa">
      <h4 style="text-align:center">Cadastro da FIND</h4>
        <div class="row">
          <form class="col s12" onsubmit="return false;">
            <!-- basica_________________________________________________________________ -->
            <div class="row">

              <div class="input-field col s12">
                <input id="nome" name="nome" type="text" class="validate"  maxlength="100" size="10" >
                <label for="Nome Completo">Nome Completo</label>
              </div>

              <div class="input-field col s12">
                <input id="email" type="email" class="validate"  maxlength="100" size="10">
                <label for="E-Mail">E-Mail</label>
                
              </div>

              <div class="input-field col s12">
                <input id="cpf" name="cpf" type="text" class="validate">
                <label for="cpf">CPF</label>
              </div>

            </div>
            <!-- basica_________________________________________________________________ -->
            <!-- baisca1_________________________________________________________________ -->
            <div class="row">

              <div class="input-field col s12">
                <input id="senha" type="password" class="validate" maxlength="255" size="10">
                <label for="senha">Senha</label>
              </div>

              <!-- <div class="form-group">
                  <label for="aula">Escolher uma imagen</label>
                  <input type="file" class="form-control-file " id="aula">
              </div> -->

            </div>
            <!--basica1 _________________________________________________________________ -->

            <button class="btn waves-effect waves-light" type="submit" onclick="cadastrar();" name="action">Pr√≥ximo passo
              <i class="material-icons right">send</i><!-- IR para pagina login com javascript-->
            </button>

          </form>
        </div>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.0/jquery.mask.js"></script>
    <script type="text/JavaScript">
    
      $(document).ready(function () { 
      var $seuCampoCpf = $("#cpf");
      $seuCampoCpf.mask('000.000.000-00', {reverse: true});
    });
      function cadastrar(){
        var url="http://localhost:5000/API/Usuario";

        var nome = document.getElementById("nome").value;
        var email = document.getElementById("email").value;
        var CPF = document.getElementById("cpf").value;
        var senha = document.getElementById("senha").value;

        var dados={};
          dados.nomeUsuario = nome;
          dados.Email = email;
          dados.CPF = CPF;
          dados.Senha = senha;

          var json = JSON.stringify(dados);

          var xhr = new XMLHttpRequest();

          xhr.open("POST",url,true)
              
          xhr.setRequestHeader("Content-type","application/json;charset=utf-8");

          xhr.onload = function(){
              if(xhr.status >= 200 && xhr.status < 400){
                  alert("Dados cadastrados");
                  window.location.replace("login.html")
                  console.log(xhr);
              }
              else{
                  alert("Erro ao tentar cadastrar");
              }
          }
          xhr.send(json);
      }
      </script>
      <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="js/materialize.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    </body>
  </html>